---
title: "Starting a DRR"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

# Learn more about creating websites with Distill at:
# https://rstudio.github.io/distill/website.html

```

<!-- badges: start -->

[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)

<!-- badges: end -->

# DRRs: Background

[Purpose and Scope of Data Release Reports](PurposeAndScope.html)

This is a template is for use when drafting Data Release Reports. DRRs are created by the National Park Service and provide detailed descriptions of valuable research datasets, including the methods used to collect the data and technical analyses supporting the quality of the measurements. Data Release Reports focus on helping others reuse data rather than presenting results, testing hypotheses, or presenting new interpretations and in-depth analyses.

# About this Template

This template contains an rmarkdown template file, default folder structure for project files, and all the necessary template files to generate an unformatted .docx file. Upon submission for publication, the .docx file will be ingested by EXstyles, converted to an .xml file and fully formatted according to NPS branding upon final publication. The goal of this process is to relieve data producers, managers, and scientists from the burden of formatting and allow them to focus primarily on content. Consequently, the .docx generated for the publication process may not be visually appealing. The content, however, should focus on quality control, of NPS data packages and evaluate their of utility.

# How to Start a DRR

1.  **To start your DRR you will need all of your data in flat .csv files**. All quality assurance, quality control, and quality flagging should be completed. Ideally you have already created or are in the process of creating a data package. All of the .csv files you want to describe in the DRR should be in a single folder with **no additional .csv files** (other files such as .txt and .xml will be ignored). This folder can be the same folder you used/are using to create a data package.

2.  **Using Rstudio, open an R project** (Select File \> New Project...) in the same folder as your .csv files. If you already have an R project (.Rproj) initiated from creating a data package, you can use that same R project.

3.  **Install, update (if necessary), and load the QCkit R package**. QCkit can be installed either as a component of the [NPSdataverse](https://nationalparkservice.github.io/NPSdataverse/) or on its own. The benefits of installing the entire NPSdataverse is that upon loading the NPSdataverse, you will automatically be informed if there are any updates to QCkit (or any of the constituent packages). The downside to installing and loading the NPSdataverse is that the first time you install it the process can be lengthy (there are many dependencies) and you may hit the GitHub.com API rate limit. Either installation is from GitHub.com and requires the devtools package to install.

```{r install_devtools, eval = FALSE}
# Install the devtools package, if you don't already have it:
install.pacakges("devtools")
```

```{r install_NPSdataverse, eval = FALSE}
# Install and load QCkit via NPSdataverse:
devtools::install_github("nationalparkservice/NPSdataverse")
library(NPSdataverse)
```

```{r install_QCkit, eval = FALSE}
# Install and load just QCkit:
devtools::install_github("nationalparkservice/QCkit")
library(QCkit)
```

4.  **Open a new DRR Template**. From within Rstudio, select the "File" drop down menu. Choose "New File" and then "R markdown...". This will open up a pop-up dialog box. Select "From Template" on in the right-hand list and choose the template labelled "NPS DRR {QCkit}". You can change the file and folder name to something other than "Untitled", but if you do so the example DRR will not render properly. Click OK. A new folder will be generated in your current working directory titled, "Untitled" (or whatever name you have opted to call it).

```{r echo = FALSE, out.width = "40%", out.height = "20%", fig.caption = "Opening a new DRR Template"}
knitr::include_graphics(c("new_rmd.png", "new_rmd_template.png"))
```

5.  After selecting "OK" two things will happne: First, you the DRR Template file will open up. It is called "Untitled.Rmd" by default. Second, a new folder will be created called "Untitled" (Unless you opted to change the default "Name:" in the "New R Markdown" pop up, then these will have whatever name you gave them).

6.  Edit the DRR Template according to your specifications and the instructions in the ["Using the DRR Template"](Using-the-DRR_Template.html) guide.

7.  When you are done, "knit" the .Rmd file to Word and submit the resulting .docx file for publication.

extra text to be moved elsewhere?

5.  [Bibtex reference file](https://github.com/nationalparkservice/DRR_Template/raw/master/reference.bib) is used if you want to automate your citations. Add each citation in bibtex format to this file and save it. Add in-text citations to the DRR Template and your References section will automatically be generated for you when you knit the .Rmd to .docx. You should still visually check the final format in the .docx file for accuracy, completion, and formatting. If you would prefer to manually format your citations, feel free to continue doing so.

6.  [DRR_Report](https://github.com/nationalparkservice/DRR_Template/raw/master/DRR_to_docx.docx) an example of the .docx output file that takes into account your edits and changes to DRR_to_docx.Rmd (assuming you have saved and/or knit the .Rmd to .docx format in Rstudio).

# Examples

**Knit your own example DRR:** Assuming you left the "Name:" as the default "untitled", you should be able to knit the DRR template in to an example .docx that could be submitted for publication. If you opted to change the Name, you will need to update the the file paths before kniting.
